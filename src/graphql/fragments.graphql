# ============================================
# Base Fragments
# ============================================

fragment UserProfile on Profile {
  username
  firstName
  lastName
  email
  organization
}

fragment PageProps on PageInfo {
  totalPages
  pageNumber
  hasNext
  hasPrevious
}

fragment TagProps on Tag {
  id
  name
}

fragment LanguageProps on XtdLanguage {
  id
  code
  englishName
  nativeName
}

fragment TranslationProps on XtdMultiLanguageText {
  id
  texts {
    id
    text
    language {
      ...LanguageProps
    }
  }
}

#
# Text Props - einzelne Übersetzung innerhalb einer MultiLanguageText
fragment TextProps on XtdText {
  id
  text
  language {
    ...LanguageProps
  }
}

#
# Item Props for hierarchy/tree views
fragment ItemProps on XtdObject {
  __typename
  id
  recordType
  name(input: { languageTags: ["de-DE", "en-US"] })
  tags {
    ...TagProps
  }
}

#
# Country detail fragment
fragment CountryDetailProps on XtdCountry {
  id
  code
  name(input: { languageTags: ["de-DE", "en-US"] })
  names {
    ...TranslationProps
  }
}

fragment RelationsProps on XtdObject {
  id
  name(input: { languageTags: ["de", "en"] })
  tags {
    ...TagProps
  }
}

fragment RationalProps on XtdRational {
  id
  numerator
  denominator
}

# ============================================
# Search Result Fragments
# ============================================

fragment SearchResultProps on XtdObject {
  __typename
  id
  recordType
  name(input: { languageTags: ["de-DE", "en-US"] })
  names {
    ...TranslationProps
  }
  comment(input: { languageTags: ["de-DE", "en-US"] })
  tags {
    ...TagProps
  }
  # dictionary {
  #   id
  #   name {
  #     ...TranslationProps
  #   }
  # }
}

fragment SearchResultDictionaryProps on XtdDictionary {
  __typename
  id
  recordType
  dname: name {
    texts {
      text
    }
  }
  tags {
    ...TagProps
  }
}

# ============================================
# Meta and Object Fragments
# ============================================

fragment MetaProps on XtdRoot {
  created
  createdBy
  lastModified
  lastModifiedBy
}

fragment ObjectProps on XtdObject {
  ...MetaProps
  __typename
  id
  recordType
  majorVersion
  minorVersion
  dateOfCreation
  status
  name(input: { languageTags: ["de-DE", "en-US"] })
  names {
    ...TranslationProps
  }
  comment(input: { languageTags: ["de-DE", "en-US"] })
  comments {
    ...TranslationProps
  }
  tags {
    ...TagProps
  }
  dictionary {
    id
    name {
      ...TranslationProps
    }
  }
  replacedObjects {
    id
  }
  replacingObjects {
    id
  }
  deprecationExplanation {
    ...TranslationProps
  }
}

# ============================================
# External Document Fragments
# ============================================

fragment ExternalDocumentProps on XtdExternalDocument {
  ...ObjectProps
  documentUri
  author
  isbn
  publisher
  dateOfPublication
  languages {
    ...LanguageProps
  }
}

fragment ExternalDocumentDetailProps on XtdExternalDocument {
  ...ExternalDocumentProps
  ...ConceptProps
  documents {
    ...RelationsProps
  }
}

# ============================================
# Concept Fragments
# ============================================

fragment ConceptProps on XtdConcept {
  ...ObjectProps
  description(input: { languageTags: ["de-DE", "en-US"] })
  descriptions {
    ...TranslationProps
  }
  definition {
    ...TranslationProps
  }
  examples {
    ...TranslationProps
  }
  languageOfCreator {
    ...LanguageProps
  }
  referenceDocuments {
    ...RelationsProps
  }
  similarTo {
    ...RelationsProps
  }
  countryOfOrigin {
    code
    ...RelationsProps
  }
}

# ============================================
# Value Fragments
# ============================================

fragment ValueProps on XtdValue {
  ...ObjectProps
  nominalValue
}

fragment ValueDetailProps on XtdValue {
  ...ValueProps
  orderedValues {
    ...RelationsProps
    valueLists {
      ...RelationsProps
    }
  }
}

# ============================================
# Property Fragments
# ============================================

fragment PropertyProps on XtdProperty {
  ...ConceptProps
  dataType
  dataFormat
}

fragment PropertyDetailProps on XtdProperty {
  ...PropertyProps
  connectedProperties {
    ...RelationshipToPropertyDetailProps
  }
  connectingProperties {
    ...RelationshipToPropertyDetailProps
  }
  symbols {
    ...SymbolProps
  }
  boundaryValues {
    ...IntervalProps
  }
  dimension {
    ...DimensionProps
  }
  quantityKinds {
    ...QuantityKindProps
  }
  units {
    ...RelationsProps
  }
  possibleValues {
    ...RelationsProps
    values {
      id
      order
      orderedValue {
        ...ValueProps
      }
    }
  }
  subjects {
    ...SubjectDetailProps
  }
}

# ============================================
# Subject Fragments
# ============================================

fragment SubjectDetailProps on XtdSubject {
  ...ConceptProps
  properties {
    ...PropertyProps
    possibleValues {
      id
      name(input: { languageTags: ["de", "en"] })
      values {
        id
        order
        orderedValue {
          ...ValueProps
        }
      }
    }
  }
  connectedSubjects {
    ...RelationsProps
    targetSubjects {
      ...RelationsProps
    }
    # relationshipType {
    #   name
    #   kind
    # }
  }
  connectingSubjects {
    ...RelationsProps
    connectingSubject {
      ...RelationsProps
    }
    # relationshipType {
    #   name
    #   kind
    # }
  }
}

fragment SubjectWithPropsAndListsProps on XtdSubject {
  ...RelationsProps
  names {
    ...TranslationProps
  }
  properties {
    ...RelationsProps
    names {
      ...TranslationProps
    }
    possibleValues {
      ...RelationsProps
      names {
        ...TranslationProps
      }
    }
  }
}

# ============================================
# Unit Fragments
# ============================================

fragment UnitProps on XtdUnit {
  ...ConceptProps
  scale
  base
}

fragment UnitDetailProps on XtdUnit {
  ...UnitProps
  symbol {
    ...TranslationProps
  }
  offset {
    ...RationalProps
  }
  coefficient {
    ...RationalProps
  }
  dimension {
    ...DimensionProps
  }
  properties {
    ...RelationsProps
  }
  valueLists {
    ...RelationsProps
  }
}

# ============================================
# ValueList Fragments
# ============================================

fragment ValueListProps on XtdValueList {
  ...ConceptProps
}

fragment ValueListDetailProps on XtdValueList {
  ...ValueListProps
  properties {
    ...PropertyProps
  }
  unit {
    ...UnitProps
  }
  values {
    ...ObjectProps
    order
    orderedValue {
      ...ValueProps
    }
  }
  language {
    ...LanguageProps
  }
}

fragment ValueListWithValuesProps on XtdValueList {
  id
  name(input: { languageTags: ["de", "en"] })
  names {
    ...TranslationProps
  }
  values {
    id
    order
    orderedValue {
      id
      name(input: { languageTags: ["de", "en"] })
      names {
        ...TranslationProps
      }
    }
  }
}

# ============================================
# Dimension Fragments
# ============================================

fragment DimensionProps on XtdDimension {
  ...ConceptProps
  amountOfSubstanceExponent {
    ...RationalProps
  }
  luminousIntensityExponent {
    ...RationalProps
  }
  lengthExponent {
    ...RationalProps
  }
  massExponent {
    ...RationalProps
  }
  timeExponent {
    ...RationalProps
  }
  electricCurrentExponent {
    ...RationalProps
  }
  thermodynamicTemperatureExponent {
    ...RationalProps
  }
}

# ============================================
# Symbol and Interval Fragments
# ============================================

fragment SymbolProps on XtdSymbol {
  subject {
    ...RelationsProps
  }
  symbol {
    text
    language {
      ...LanguageProps
    }
  }
}

fragment IntervalProps on XtdInterval {
  id
  minimumIncluded
  maximumIncluded
  minimum {
    ...RelationsProps
  }
  maximum {
    ...RelationsProps
  }
}

# ============================================
# Relationship Fragments
# ============================================

fragment RelationshipToSubjectProps on XtdRelationshipToSubject {
  ...MetaProps
  __typename
  id
  majorVersion
  minorVersion
  dateOfCreation
  status
  name(input: { languageTags: ["de-DE", "en-US"] })
  names {
    ...TranslationProps
  }
  comment(input: { languageTags: ["de-DE", "en-US"] })
  comments {
    ...TranslationProps
  }
  tags {
    ...TagProps
  }
  dictionary {
    id
    name {
      ...TranslationProps
    }
  }
}

fragment RelationshipToSubjectDetailProps on XtdRelationshipToSubject {
  ...RelationshipToSubjectProps
  scopeSubjects {
    ...RelationsProps
  }
  targetSubjects {
    ...RelationsProps
  }
  relationshipType {
    name
    kind
  }
  connectingSubject {
    ...RelationsProps
  }
}

fragment RelationshipToPropertyProps on XtdRelationshipToProperty {
  ...MetaProps
  __typename
  id
  majorVersion
  minorVersion
  dateOfCreation
  status
  name(input: { languageTags: ["de-DE", "en-US"] })
  names {
    ...TranslationProps
  }
  comment(input: { languageTags: ["de-DE", "en-US"] })
  comments {
    ...TranslationProps
  }
  tags {
    ...TagProps
  }
  dictionary {
    id
    name {
      ...TranslationProps
    }
  }
}

fragment RelationshipToPropertyDetailProps on XtdRelationshipToProperty {
  ...RelationshipToPropertyProps
  relationshipType
  targetProperties {
    ...PropertyProps
  }
  connectingProperty {
    ...PropertyProps
  }
}

fragment RelationshipTypeProps on XtdRelationshipType {
  name
  kind
}

# ============================================
# QuantityKind Fragment
# ============================================

fragment QuantityKindProps on XtdQuantityKind {
  ...ConceptProps
  units {
    ...RelationsProps
  }
  dimension {
    ...DimensionProps
  }
}

# ============================================
# Verification Fragment
# ============================================

fragment VerificationProps on XtdObject {
  __typename
  id
  name
  tags {
    ...TagProps
  }
  recordType
}

# ============================================
# Dictionary Fragment
# ============================================

#
fragment DictionaryProps on XtdDictionary {
  id
  recordType
  name {
    ...TranslationProps
  }
  tags {
    ...TagProps
  }
}

# ============================================
# Export Fragments
# ============================================

fragment ExportCatalogRecord on ExportResult {
  id
  type
  tags
  name
  name_en
  description
  majorVersion
  minorVersion
  created
  createdBy
  lastModified
  lastModifiedBy
  status
  languageOfCreator
  countryOfOrigin
  deprecationExplanation
  languages
  examples
  dataType
  dataFormat
  scale
  base
  uri
  author
  publisher
  isbn
  dateOfPublication
}

fragment ExportCatalogRecordRelationship on ExportRelationshipResult {
  entity1
  relationship
  entity2
}

# ============================================
# Alias Fragments (für Kompatibilität)
# ============================================

#
# Alias für MultiLanguageTextPropsFragment -> TranslationPropsFragment
fragment MultiLanguageTextProps on XtdMultiLanguageText {
  ...TranslationProps
}
